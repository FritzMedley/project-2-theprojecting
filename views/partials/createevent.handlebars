<head> 

<link href="./css/create.css" rel="stylesheet">

</head>
<body>


<div class="events-create col-md-12"> 
    <h1>Create an Event</h1>
    <hr>
      <p>Ready to host an event? Let the community know what you're loooking to make happen by filling out this form! Be sure to 
add the a description of the event, the time and location so that your attendees know what to look forward to!</p>
</div>
<div class="form-container">
  <form id="createForm">
  <div class="form-group event-field">
    <label for="name">Event Name:</label>
    <input type="name" class="form-control" id="name" aria-describedby="name" placeholder="name">
  </div>
  <div class="form-group event-field">
    <label for="location">Location:</label>
    <input type="name" class="form-control" id="location" placeholder="Austin, TX">
  </div>
  <div class="form-group event-field">
    <label for="numAttendees">Number of Attendees:</label>
    <input type="name" class="form-control" id="numAttendees" placeholder="50">
  </div>
   <div class="form-group event-field">
    <label for="date">Date:</label>
    <ul class="dateList">
     <li> <select class="form-control" id="month" place-holder="Month">
        <option>January</option>
        <option>February</option>
        <option>March</option>
        <option>April</option>
        <option>May</option>
        <option>June</option>
        <option>July</option>
        <option>August</option>
        <option>September</option>
        <option>October</option>
        <option>November</option>
        <option>December</option>
      </select></li>
      <li> <select class="form-control" id="day">        
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
        <option>6</option>
        <option>7</option>
        <option>8</option>
        <option>9</option>
        <option>10</option>
        <option>11</option>
        <option>12</option>
        <option>13</option>
        <option>14</option>
        <option>15</option>
        <option>16</option>
        <option>17</option>
        <option>18</option>
        <option>19</option>
        <option>20</option>
        <option>21</option>
        <option>22</option>
        <option>23</option>
        <option>24</option>
        <option>25</option>
        <option>26</option>
        <option>27</option>
        <option>28</option>
        <option>29</option>
        <option>30</option>
        <option>31</option>
      </select></li>
      <li> <select class="form-control" id="year">
        <option>2017</option>
        <option>2018</option>
        <option>2019</option>
        <option>2020</option>
        <option>2021</option>
        <option>2022</option>
        <option>2023</option>
        <option>2024</option>
      </select></li>
  </div>
  <div class="form-group event-field">
    <label for="category">Category:</label>
    <select class="form-control" id="category">
      <option>Music</option>
      <option>Sports</option>
      <option>Education</option>
      <option>Parties</option>
      <option>Games</option>
      <option>Travel</option>
      <option>Clubs</option>
      <option>Other</option>
    </select>
  </div>
   <div class="form-group event-field">
  <ul class="timeList">
    <li><label for="startTime">Start Time:</label>
    <select class="form-control" id="startTime">
      <option>12:00AM</option>
      <option>12:30AM</option>
      <option>1:00AM</option>
      <option>1:30AM</option>
      <option>2:00AM</option>
      <option>3:00AM</option>
      <option>3:30AM</option>
      <option>4:00AM</option>
      <option>4:30AM</option>
      <option>5:00AM</option>
      <option>5:30AM</option>
      <option>6:00AM</option>
      <option>6:30AM</option>
      <option>7:00AM</option>
      <option>7:30AM</option>
      <option>8:00AM</option>
      <option>8:30AM</option>
      <option>9:00AM</option>
      <option>9:30AM</option>
      <option>10:00AM</option>
      <option>10:30AM</option>
      <option>11:00AM</option>
      <option>11:30AM</option>
      <option>12:00PM</option>
      <option>12:30PM</option>
      <option>1:00PM</option>
      <option>1:30PM</option>
      <option>2:00PM</option>
      <option>2:30PM</option>
      <option>3:00PM</option>
      <option>3:30PM</option>
      <option>4:00PM</option>
      <option>4:30PM</option>
      <option>5:00PM</option>
      <option>5:30PM</option>
      <option>6:00PM</option>
      <option>6:30PM</option>
      <option>7:00PM</option>
      <option>7:30PM</option>
      <option>8:00PM</option>
      <option>8:30PM</option>
      <option>9:00PM</option>
      <option>9:30PM</option>
      <option>10:00PM</option>
      <option>10:30PM</option>
      <option>11:00PM</option>
      <option>11:30PM</option>
    </select>
    </li>
    <li><label for="endTime">End Time</label>
    <select class="form-control" id="endTime">
      <option>12:00AM</option>
      <option>12:30AM</option>
      <option>1:00AM</option>
      <option>1:30AM</option>
      <option>2:00AM</option>
      <option>3:00AM</option>
      <option>3:30AM</option>
      <option>4:00AM</option>
      <option>4:30AM</option>
      <option>5:00AM</option>
      <option>5:30AM</option>
      <option>6:00AM</option>
      <option>6:30AM</option>
      <option>7:00AM</option>
      <option>7:30AM</option>
      <option>8:00AM</option>
      <option>8:30AM</option>
      <option>9:00AM</option>
      <option>9:30AM</option>
      <option>10:00AM</option>
      <option>10:30AM</option>
      <option>11:00AM</option>
      <option>11:30AM</option>
      <option>12:00PM</option>
      <option>12:30PM</option>
      <option>1:00PM</option>
      <option>1:30PM</option>
      <option>2:00PM</option>
      <option>2:30PM</option>
      <option>3:00PM</option>
      <option>3:30PM</option>
      <option>4:00PM</option>
      <option>4:30PM</option>
      <option>5:00PM</option>
      <option>5:30PM</option>
      <option>6:00PM</option>
      <option>6:30PM</option>
      <option>7:00PM</option>
      <option>7:30PM</option>
      <option>8:00PM</option>
      <option>8:30PM</option>
      <option>9:00PM</option>
      <option>9:30PM</option>
      <option>10:00PM</option>
      <option>10:30PM</option>
      <option>11:00PM</option>
      <option>11:30PM</option>
    </select>
    </li>
    </ul>
  </div>
    <div class="form-group event-field">
    <label for="image">Image Input</label>
    <input type="name" class="form-control" id="image" placeholder="Austin, TX">
  </div>
  <div class="form-group event-field">
    <label for="description">Description</label>
    <textarea class="form-control" id="description" rows="3"></textarea>
  </div>
  <br>
  <div class="btn-storer">
  <button type="submit" id="submitButton" class="btn btn-primary">Create A Table</button>
  </div>
</form>
</div>
</div>

<script> 

//the hidden form serves as a redirect
 // var form = $(document.createElement('form'));
 //    $(form).attr("action", "/event?");
 //    $(form).attr("method", "GET");
 //    $(form).css("display", "none");
 //    form.appendTo( document.body );



$("#submitButton").on("click", function(e){
  e.preventDefault();
  var reqObject = {}
  
  reqObject.name = $("#name").val().trim();
  reqObject.category = $("#category").val().trim(); 
  reqObject.location = $("#location").val().trim();
  reqObject.numAttendees = $("#numAttendees").val().trim()
  reqObject.startTime = $("#startTime").val().trim();
  reqObject.endTime = $("#endTime").val().trim();
  reqObject.description = $("#description").val().trim();
  reqObject.month = $("#month").val().trim();
  reqObject.day = $("#day").val().trim();
  reqObject.year = $("#year").val().trim();
  reqObject.image = $("#image").val().trim();
 // console.log(reqObject);


 $.ajax({
    type: "POST",
    url: "/createevent",
    data: reqObject,
    dataType: "json",
    success: function(data) {
      alert("Success");
      console.log(data);
        if (data.redirect) {
            // data.redirect contains the string URL to redirect to
            window.location.replace(data.redirect);
        }
        else {
            // data.form contains the HTML for the replacement form
            alert("This didn't work.");
            window.location.replace(data.redirect)
        }
    }
    });


  
  
});
</script> 

</body>